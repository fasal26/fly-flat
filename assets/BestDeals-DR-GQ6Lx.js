import{d as m,o,c as d,a as s,n as t,t as l,_ as u,p as b,b as D,r as T,e as C,u as I,f as P,w as k,g as B,h as L,i as n,j as y,F as p,k as S,l as N,m as w,q as O}from"./index-C3Q8GEG-.js";const E=m({__name:"Card",props:{item:{},date:{}},setup(i){return(e,a)=>(o(),d("div",{class:t(e.$style.flightCard)},[s("div",{class:t(e.$style.flightHeader)},[s("div",{class:t(e.$style.flightClass)},l(e.item.TravelClass)+" "+l(e.item.IsDirect?"One-Way":"Connection"),3),s("div",{class:t(e.$style.flightTime)},l(e.date),3)],2),s("div",{class:t(e.$style.flightDetails)},[s("div",{class:t(e.$style.flightLocation)},[s("div",{class:t(e.$style.city)},l(e.item.OriginCityName),3),s("div",{class:t(e.$style.airportCode)},l(e.item.Origin),3)],2),s("div",{class:t(e.$style.flightIcon)},"â†’",2),s("div",{class:t(e.$style.flightLocation)},[s("div",{class:t(e.$style.city)},l(e.item.DestinationCityName),3),s("div",{class:t(e.$style.airportCode)},l(e.item.Destination),3)],2)],2),s("div",{class:t(e.$style.flightTimes)},[s("div",{class:t(e.$style.timeInfo)},[s("div",{class:t(e.$style.label)},"Departs",2),s("div",{class:t(e.$style.time)},l(e.item.DepartureTime),3)],2),s("div",{class:t(e.$style.timeInfo)},[s("div",{class:t(e.$style.label)},"Arrives",2),s("div",{class:t(e.$style.time)},l(e.item.ArrivalTime),3)],2)],2),s("div",{class:t(e.$style.priceInfo)},[s("div",{class:t(e.$style.retailPrice)},[s("div",{class:t(e.$style.label)},"Retail",2),s("div",{class:t(e.$style.originalPrice)},l(e.item.Cost),3)],2),s("div",{class:t(e.$style.discountPrice)},[s("div",{class:t(e.$style.discountedPrice)},l(e.item.Cost),3)],2)],2),s("div",{class:t(e.$style.btnContainer)},[s("button",{class:t(e.$style.detailsButton)},"See details",2)],2)],2))}}),M="_flightCard_1cts5_2",R="_flightHeader_1cts5_11",q="_flightClass_1cts5_20",A="_flightTime_1cts5_24",F="_flightDetails_1cts5_29",H="_flightLocation_1cts5_36",Y="_city_1cts5_40",j="_airportCode_1cts5_44",z="_flightIcon_1cts5_50",G="_flightTimes_1cts5_55",U="_timeInfo_1cts5_60",V="_label_1cts5_64",W="_time_1cts5_60",J="_priceInfo_1cts5_73",K="_retailPrice_1cts5_82",Q="_originalPrice_1cts5_82",X="_discountPrice_1cts5_87",Z="_discount_1cts5_87",x="_discountedPrice_1cts5_95",ee="_btnContainer_1cts5_101",se="_detailsButton_1cts5_105",te="_seatsLeft_1cts5_121",ie={flightCard:M,flightHeader:R,flightClass:q,flightTime:A,flightDetails:F,flightLocation:H,city:Y,airportCode:j,flightIcon:z,flightTimes:G,timeInfo:U,label:V,time:W,priceInfo:J,retailPrice:K,originalPrice:Q,discountPrice:X,discount:Z,discountedPrice:x,btnContainer:ee,detailsButton:se,seatsLeft:te},le={$style:ie},ae=u(E,[["__cssModules",le]]),oe={},ne=i=>(b("data-v-fc426b93"),i=i(),D(),i),ce={class:"gf-loader"},re=ne(()=>s("div",{class:"loader-inner line-scale"},[s("div"),s("div"),s("div"),s("div")],-1)),de=[re];function _e(i,e){return o(),d("div",ce,de)}const fe=u(oe,[["render",_e],["__scopeId","data-v-fc426b93"]]),ue=s("p",null,"FLYFLAT DEALS",-1),ye=m({__name:"Header",props:["label","btnText"],emits:["deals"],setup(i,{emit:e}){const a=e;return(r,_)=>(o(),d("div",{class:t(r.$style["header-container"])},[s("div",{class:t(r.$style["header-items"])},[ue,s("h1",null,l(i.label),1),s("button",{class:t(r.$style.detailsButton),onClick:_[0]||(_[0]=g=>a("deals"))},l(i.btnText),3)],2)],2))}}),he="_detailsButton_8hteg_24",me={"header-container":"_header-container_8hteg_2","header-items":"_header-items_8hteg_12",detailsButton:he},ge={$style:me},$e=u(ye,[["__cssModules",ge]]),ve="_flCardContainer_1i009_2",pe={flCardContainer:ve},Ce={};function be(i,e){return o(),d("div",{class:t(i.$style.flCardContainer)},[T(i.$slots,"default")],2)}const De={$style:pe},Te=u(Ce,[["render",be],["__cssModules",De]]);let h=C(!1);const Ie=I(),Pe=async(i,e)=>{try{h.value=!0;const a=await i();a&&e(a)}catch{Ie.ERROR_ENCOUNTERED()}finally{h.value=!1}},Be=m({__name:"BestDeals",setup(i){const e=P(),a=S(),r=N();let _=C([]);k(()=>a.query,()=>{$()});const g=()=>{a.query.city?r.push("/"):r.push("?city=New York")},$=()=>{const v=a.query.city?{city:"New York"}:{};Pe(()=>e.BEST_DEALS(v),f=>{var c;(c=f==null?void 0:f.data)!=null&&c.length&&(_.value=f.data)})};return B(()=>{$()}),(v,f)=>(o(),d(p,null,[L(n($e),{label:n(a).query.city?"New York City Top Deals":"Up To 80% Off Biz/First Class Flights",btnText:n(a).query.city?"Get All Deals":"Get New York Deals",onDeals:g},null,8,["label","btnText"]),n(h)?(o(),y(n(fe),{key:0})):(o(),y(n(Te),{key:1},{default:w(()=>[(o(!0),d(p,null,O(n(_),c=>(o(),y(n(ae),{key:Object.keys(c)[0],item:c[Object.keys(c)[0]],date:Object.keys(c)[0]},null,8,["item","date"]))),128))]),_:1}))],64))}});export{Be as default};
