import{d as m,o,c as d,a as s,n as t,t as l,_ as u,p as w,b as q,r as b,e as C,u as D,f as T,w as I,g as P,h as k,i as n,j as y,F as p,k as B,l as L,m as S,q as N}from"./index-jaAOdcON.js";const O=m({__name:"Card",props:{item:{},date:{}},setup(i){return(e,a)=>(o(),d("div",{class:t(e.$style.flightCard)},[s("div",{class:t(e.$style.flightHeader)},[s("div",{class:t(e.$style.flightClass)},l(e.item.TravelClass)+" "+l(e.item.IsDirect?"One-Way":"Connection"),3),s("div",{class:t(e.$style.flightTime)},l(e.date),3)],2),s("div",{class:t(e.$style.flightDetails)},[s("div",{class:t(e.$style.flightLocation)},[s("div",{class:t(e.$style.city)},l(e.item.OriginCityName),3),s("div",{class:t(e.$style.airportCode)},l(e.item.Origin),3)],2),s("div",{class:t(e.$style.flightIcon)},"â†’",2),s("div",{class:t(e.$style.flightLocation)},[s("div",{class:t(e.$style.city)},l(e.item.DestinationCityName),3),s("div",{class:t(e.$style.airportCode)},l(e.item.Destination),3)],2)],2),s("div",{class:t(e.$style.flightTimes)},[s("div",{class:t(e.$style.timeInfo)},[s("div",{class:t(e.$style.label)},"Departs",2),s("div",{class:t(e.$style.time)},l(e.item.DepartureTime),3)],2),s("div",{class:t(e.$style.timeInfo)},[s("div",{class:t(e.$style.label)},"Arrives",2),s("div",{class:t(e.$style.time)},l(e.item.ArrivalTime),3)],2)],2),s("div",{class:t(e.$style.priceInfo)},[s("div",{class:t(e.$style.retailPrice)},[s("div",{class:t(e.$style.label)},"Retail",2),s("div",{class:t(e.$style.originalPrice)},l(e.item.Cost),3)],2),s("div",{class:t(e.$style.discountPrice)},[s("div",{class:t(e.$style.discountedPrice)},l(e.item.Cost),3)],2)],2),s("div",{class:t(e.$style.btnContainer)},[s("button",{class:t(e.$style.detailsButton)},"See details",2)],2)],2))}}),E="_flightCard_14wsq_2",M="_flightHeader_14wsq_11",R="_flightClass_14wsq_20",A="_flightTime_14wsq_24",F="_flightDetails_14wsq_29",H="_flightLocation_14wsq_36",Y="_city_14wsq_40",j="_airportCode_14wsq_44",z="_flightIcon_14wsq_50",G="_flightTimes_14wsq_55",U="_timeInfo_14wsq_60",V="_label_14wsq_64",W="_time_14wsq_60",J="_priceInfo_14wsq_73",K="_retailPrice_14wsq_82",Q="_originalPrice_14wsq_82",X="_discountPrice_14wsq_87",Z="_discount_14wsq_87",x="_discountedPrice_14wsq_95",ee="_btnContainer_14wsq_101",se="_detailsButton_14wsq_105",te="_seatsLeft_14wsq_121",ie={flightCard:E,flightHeader:M,flightClass:R,flightTime:A,flightDetails:F,flightLocation:H,city:Y,airportCode:j,flightIcon:z,flightTimes:G,timeInfo:U,label:V,time:W,priceInfo:J,retailPrice:K,originalPrice:Q,discountPrice:X,discount:Z,discountedPrice:x,btnContainer:ee,detailsButton:se,seatsLeft:te},le={$style:ie},ae=u(O,[["__cssModules",le]]),oe={},ne=i=>(w("data-v-fc426b93"),i=i(),q(),i),re={class:"gf-loader"},ce=ne(()=>s("div",{class:"loader-inner line-scale"},[s("div"),s("div"),s("div"),s("div")],-1)),de=[ce];function _e(i,e){return o(),d("div",re,de)}const fe=u(oe,[["render",_e],["__scopeId","data-v-fc426b93"]]),ue=s("p",null,"FLYFLAT DEALS",-1),ye=m({__name:"Header",props:["label","btnText"],emits:["deals"],setup(i,{emit:e}){const a=e;return(c,_)=>(o(),d("div",{class:t(c.$style["header-container"])},[s("div",{class:t(c.$style["header-items"])},[ue,s("h1",null,l(i.label),1),s("button",{class:t(c.$style.detailsButton),onClick:_[0]||(_[0]=g=>a("deals"))},l(i.btnText),3)],2)],2))}}),he="_detailsButton_8hteg_24",me={"header-container":"_header-container_8hteg_2","header-items":"_header-items_8hteg_12",detailsButton:he},ge={$style:me},$e=u(ye,[["__cssModules",ge]]),ve="_flCardContainer_1i009_2",pe={flCardContainer:ve},Ce={};function we(i,e){return o(),d("div",{class:t(i.$style.flCardContainer)},[b(i.$slots,"default")],2)}const qe={$style:pe},be=u(Ce,[["render",we],["__cssModules",qe]]);let h=C(!1);const De=D(),Te=async(i,e)=>{try{h.value=!0;const a=await i();a&&e(a)}catch{De.ERROR_ENCOUNTERED()}finally{h.value=!1}},Pe=m({__name:"BestDeals",setup(i){const e=T(),a=B(),c=L();let _=C([]);I(()=>a.query,()=>{$()});const g=()=>{a.query.city?c.push("/"):c.push("?city=New York")},$=()=>{const v=a.query.city?{city:"New York"}:{};Te(()=>e.BEST_DEALS(v),f=>{var r;(r=f==null?void 0:f.data)!=null&&r.length&&(_.value=f.data)})};return P(()=>{$()}),(v,f)=>(o(),d(p,null,[k(n($e),{label:n(a).query.city?"New York City Top Deals":"Up To 80% Off Biz/First Class Flights",btnText:n(a).query.city?"Get All Deals":"Get New York Deals",onDeals:g},null,8,["label","btnText"]),n(h)?(o(),y(n(fe),{key:0})):(o(),y(n(be),{key:1},{default:S(()=>[(o(!0),d(p,null,N(n(_),r=>(o(),y(n(ae),{key:Object.keys(r)[0],item:r[Object.keys(r)[0]],date:Object.keys(r)[0]},null,8,["item","date"]))),128))]),_:1}))],64))}});export{Pe as default};
